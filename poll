CREATE TABLE Users(
id SERIAL PRIMARY KEY,
name VARCHAR NOT NULL,
login VARCHAR UNIQUE NOT NULL,
password VARCHAR NOT NULL
);

CREATE TABLE Poll(
id SERIAL PRIMARY KEY,
theme VARCHAR UNIQUE NOT NULL
);

CREATE TABLE Choice(
id SERIAL PRIMARY KEY,
id_poll INTEGER REFERENCES Poll (id) ON DELETE CASCADE NOT NULL,
answer VARCHAR NOT NULL
);

CREATE TABLE Answer(
id SERIAL PRIMARY KEY,
id_poll INTEGER REFERENCES Poll (id) ON DELETE CASCADE NOT NULL,
id_user INTEGER REFERENCES Users (id) ON DELETE CASCADE NOT NULL,
id_choice INTEGER REFERENCES Choice (id) ON DELETE CASCADE NOT NULL
);


INSERT INTO poll (theme)
VALUES ('Тема1');

INSERT INTO choice(id_poll, answer)
VALUES (1,'Ответ 1'),
       (1,'Ответ 2'),
       (1,'Ответ 3');